---
title: "Arrange Elements"
description: >
  Shiny's premade layouts, such as ui.page_sidebar() and ui.page_navbar() make use of
  Shiny's lower-level grid layout functions.
aliases:
  - "../arrange.html"
---

```{python}
#| include: false
import sys
sys.path.append("../..")

from docs.helpers import express_core_preview, shinylive_app_preview
```

Shiny's premade layouts, such as [ui.layout_sidebar](https://shiny.posit.co/py/api/ui.layout_sidebar.html) and [ui.page_navbar](https://shiny.posit.co/py/api/ui.page_navbar.html) make use of Shiny's lower-level grid layout functions:

-   Rows are created by the `ui.row()` function and include columns.
-   Columns are defined by the `ui.column()` function. Column widths are based on the [Bootstrap](https://getbootstrap.com/) 12-wide grid system, so column widths should add up to 12 within a row.

You can use these functions directly to create your own layout.
Grid layouts can be used within a page, panel, or card and can even be nested within each other.

## Relevant functions

-   [ui.row](https://shiny.posit.co/py/api/ui.row.html) `ui.row(*args, **kwargs)`

-   [ui.column](https://shiny.posit.co/py/api/ui.column.html) `ui.column(width, *args, offset=0, **kwargs)`

-   [ui.page_fluid](https://shiny.posit.co/py/api/ui.page_fluid.html) `ui.page_fluid(*args, title=None, lang=None, **kwargs)`

-   [ui.page_fixed](https://shiny.posit.co/py/api/ui.page_fixed.html) `ui.page_fixed(*args, title=None, lang=None, **kwargs)`

-   [ui.page_fillable](https://shiny.posit.co/py/api/ui.page_fillable.html) `ui.page_fillable(*args, padding=None, gap=None, fillable_mobile=False, title=None, lang=None, **kwargs)`

::: {.border-bottom .blue .mt-6 .mb-5}
:::

## Grid Layouts

To create a layout using the grid system, first build a grid by interlacing calls to [ui.row](https://shiny.posit.co/py/api/ui.row.html) and [ui.column](https://shiny.posit.co/py/api/ui.column.html).
Then place UI elements within the grid by passing them to a `ui.row()` or `ui.column()` function.
For example, the app below arranges three cards into a simple pattern.

::: {.column-screen-inset-right style="max-width:800px;"}
```{python}
#| output: asis
#| echo: false

shinylive_app_preview("app-grid-core.py", viewer_height=175, div_attrs=".p-0")
express_core_preview(None, "app-grid-core.py")
```
:::

Notice three things about the app:

1.  You always create rows before columns, and then embed columns within the rows.

2.  Rows are always as wide as the container they appear in, but columns take a `width` parameter.
    `width` should be an integer from 1 to 12.
    Bootstrap uses `width` to determine the width of the column relative to the row that contains it:

    -   A column of `width=12` will span the entire row.
    -   A column of `width=6` will span half the row.
    -   A column of `width=3` will span a quarter of the row.
    -   And so on.

3.  You pass UI elements to `ui.row()` or `ui.column()` to place them in the grid.
    Here we pass `ui.card()`s to various parts of the grid.
    Each element is fitted to the column or row that it appears in.

In addition to setting a column's width, you can also set its offset with the `offset` parameter.
`offset` controls how many units of padding appear to the left of the column.
Once again, `offset` should be an integer from 1 to 12.
The app below uses offsets to make a new arrangement:

::: {.column-screen-inset-right style="max-width:800px;"}
```{python}
#| output: asis
#| echo: false

shinylive_app_preview("app-grid-offset-core.py", viewer_height=300, div_attrs=".p-0")
express_core_preview(None, "app-grid-offset-core.py")
```
:::

::: {.border-bottom .blue .mt-6 .mb-5}
:::

## Column nesting

When you nest rows and columns within a column, each nested level of column widths should add up to 12.
This is because Bootstrap divides every row into 12 units, no matter the actual width of the row.

Consider this page layout:

::: {.column-screen-inset-right style="max-width:800px;"}
```{python}
#| output: asis
#| echo: false

shinylive_app_preview("app-column-nest-core.py", viewer_height=300, div_attrs=".p-0")
express_core_preview(None, "app-column-nest-core.py")
```
:::

::: {.border-bottom .blue .mt-6 .mb-5}
:::

## Controlling for page width and height

There are multiple types of Shiny grids: fluid, fixed, and fillable.
The fluid grid system is recommended for most applications and is the default for Shiny functions like `ui.page_navbar()` and `ui.page_sidebar()`.
So far, all the examples on this page have used the fluid grid system.

Each grid system uses a flexibly sub-dividable 12-column grid for layout.
They differ in how they interact with the viewer's browser window:

-   The fluid system always occupies the full width of the web page and re-sizes its components dynamically as the size of the page changes.

-   The fixed system occupies a fixed width of 940 pixels by default and may assume other widths when Bootstrap's responsive layout kicks in (e.g., when on a tablet).

-   The fillable system always occupies the full width *and height* of the web page and re-sizes its components dynamically as the size of the page changes.

!["Differences between the three systems"](/images/page-control.png){.pt-4}

### Fluid Grid System

::: {.column-screen-inset-right style="max-width:800px;"}
```{python}
#| output: asis
#| echo: false

shinylive_app_preview("app-page-fluid-core.py", viewer_height=500, div_attrs=".p-0")
express_core_preview("app-page-fluid-express.py", "app-page-fluid-core.py")
```
:::

To make a fluid grid that adapts to the width of the user's viewing window, build your app UI with [ui.page_fluid](https://shiny.posit.co/py/api/ui.page_fluid.html).

### Fixed Grid System

::: {.column-screen-inset-right style="max-width:800px;"}
```{python}
#| output: asis
#| echo: false

shinylive_app_preview("app-page-fixed-core.py", viewer_height=500, div_attrs=".p-0")
express_core_preview("app-page-fixed-express.py", "app-page-fixed-core.py")
```
:::

To make a fixed grid that maintains a constant maximum width, build your app UI with [ui.page_fluid](https://shiny.posit.co/py/api/ui.page_fluid.html).

The fixed grid system maintains a fixed page width of 940 pixels by default.
If Bootstrap responsive features are enabled (they are by default in Shiny) then the grid will also adapt to be 724px or 1170px wide depending on your viewport (e.g., when on a tablet).
The fixed system does this by using Bootstrap `.container`s, whereas the fluid system uses Bootstrap `.container-fluid`s.
Learn more about the difference [here](https://getbootstrap.com/docs/5.3/layout/containers/#how-they-work).

The main benefit of a fixed grid is that it provides stronger guarantees about how users will see the various elements of your UI laid out (because it's not being dynamically laid out according to the width of the browser).
The main drawback is that a fixed grid is more complex to work with.
In general, we recommend using a fluid grid unless you absolutely require the lower level layout control afforded by a fixed grid.

### Fillable Grid System

::: {.column-screen-inset-right style="max-width:800px;"}
```{python}
#| output: asis
#| echo: false

shinylive_app_preview("app-fillable-core.py", viewer_height=425, div_attrs=".p-0")
express_core_preview("app-fillable-express.py", "app-fillable-core.py")
```
:::

To make a fixed grid that maintains a constant maximum width, build your app UI with [ui.page_fillable](https://shiny.posit.co/py/api/ui.page_fillable.html).

`ui.page_fluid()` and `ui.page_fixed()` create web pages that are laid out from the top down, leaving whitespace at the bottom if the page content's height is smaller than the browser window, and scrolling if the content is larger than the window.

`ui.page_fillable()` is designed to latch the document body's size to the size of the window.
This makes it possible to fill it with content that also scales to the size of the window.

For example, `ui.page_fluid(ui.output_plot("plot", height="100%"))` will not work as expected.
The plot element's effective height will be 0 because the plot's containing elements (`<div>` and `<body>`) have automatic height.
They determine their own height based on the height of their contained elements.
However, `ui.page_fillable(ui.output_plot("plot", height="100%"))` will work as expected because `ui.page_fillable()` fixes the `<body>` height at 100% of the window height.

Note that `ui.page_fillable(ui.output_plot("plot"))` may not cause the plot to fill the page.
Like most Shiny output widgets, `ui.output_plot()`'s default height is a fixed number of pixels.
You must explicitly set `height="100%"` if you want a plot (or htmlwidget, say) to fill its container.

One must be careful what layouts/panels/elements come between the `ui.page_fillable()` and the plots/widgets.
Any container that has an automatic height will cause children with `height="100%"` to misbehave.
Stick to functions that are designed for fill layouts, such as the ones in the Shiny package.
